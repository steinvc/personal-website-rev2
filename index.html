---
---

{% include head.html %}
<body id="front-page">
{% include header.html %}


<div class="fade"  id="slideshow">
</div>

<div id="slides" style="display:none;">
  <a title="Revolve Waterbottle | 2017" href="/revolve-waterbottle" class="left" style="background-image: url(/img/slideshow/packaging-min.jpg)"></a>
  <a title="Lunchbox: Like Tableware | 2017" href="/lunchbox" class="left" style="background-image: url(/img/slideshow/lunchbox-hero.jpg)"></a>
  <a title="Salad Shaker | 2017" href="/salad-shaker" class="horizontal" style="background-image: url(/img/slideshow/salad-shaker-hero.jpg)"></a>
  <a title="Bike Basket | 2016" href="/bike-basket" class="right" style="background-image: url(/img/slideshow/bike-basket-01.jpg)"></a>
  <a title="MIDI controller | 2018" href="/arduino-midi-controller" class="right" style="background-image: url(/img/slideshow/midi-controller.jpg)"></a>
</div>


<script>

$(document).ready(function(){

  var slides = $('#slides')[0];
  for (var i = slides.children.length; i >= 0; i--) {
    slides.appendChild(slides.children[Math.random() * i | 0]);
  }
  paused = false;
  pauseTimeout = false;

  $('#slides a:first').prependTo('#slideshow').addClass('active');

  console.log('Slideshow started for first time.');
  slidesInterval = setInterval(slidesRefresh, 6000);

  $(window).focus(function() {
    if (paused == true) {
      console.log('Window gained focus.');
      if(pauseTimeout == false){
        slidesRefresh();
      }
      paused = false;
      slidesInterval = setInterval(slidesRefresh, 6000);
    }
  }).blur(function() {
    console.log('Window lost focus.');
    pauseTimeout = true
    setTimeout(function(){pauseTimeout = false}, 3000);
    paused = true;
    clearInterval(slidesInterval);
  });

  function slidesRefresh() {
    console.log('Slideshow refresh triggered.');
    $('#slides a:first').prependTo('#slideshow');
    $('#slideshow a:first').addClass('active');
    $('#slideshow a:last').fadeOut(1000, function(){
      $('#slideshow a:last').removeClass('active').appendTo('#slides');
    });
    $('#slides a').show(0);
  }
});

</script>

{% include footer.html %}
